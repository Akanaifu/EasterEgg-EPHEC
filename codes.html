<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Challenge des Codes - Challenge IT</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              neonBlue: "#38bdf8",
              neonPink: "#e879f9",
              cardBg: "#050816",
            },
          },
        },
      };
    </script>

    <style>
      body {
        background: radial-gradient(
            circle at top left,
            #0ea5e911,
            transparent 50%
          ),
          radial-gradient(circle at bottom right, #a855f711, transparent 50%),
          #020617;
        color: #e5e7eb;
      }
      .grid-bg {
        background-image: linear-gradient(
            rgba(148, 163, 184, 0.08) 1px,
            transparent 1px
          ),
          linear-gradient(90deg, rgba(148, 163, 184, 0.08) 1px, transparent 1px);
        background-size: 40px 40px;
      }
      .glass {
        background: radial-gradient(
            circle at top left,
            rgba(56, 189, 248, 0.12),
            transparent 45%
          ),
          radial-gradient(
            circle at bottom right,
            rgba(236, 72, 153, 0.12),
            transparent 45%
          ),
          linear-gradient(
            135deg,
            rgba(15, 23, 42, 0.96),
            rgba(15, 23, 42, 0.96)
          );
        backdrop-filter: blur(16px);
      }
      @keyframes shake {
        10%,
        90% {
          transform: translateX(-1px);
        }
        20%,
        80% {
          transform: translateX(2px);
        }
        30%,
        50%,
        70% {
          transform: translateX(-4px);
        }
        40%,
        60% {
          transform: translateX(4px);
        }
      }
      .shake {
        animation: shake 0.4s;
      }
    </style>
  </head>
  <body class="min-h-screen grid-bg flex flex-col relative">
    <!-- Bouton Admin cach√© (en bas √† droite) -->
    <button
      id="hidden-admin-btn"
      class="fixed bottom-4 right-4 w-10 h-10 rounded-full bg-gradient-to-r from-neonBlue to-neonPink opacity-0 hover:opacity-40 transition shadow-lg text-xs text-white font-semibold"
      title=""
      onclick="window.location.href='admin.html'"
    >
      A
    </button>

    <!-- Main -->
    <main class="flex-1 flex items-center justify-center px-4 pb-10">
      <div
        class="w-full max-w-6xl mx-auto flex flex-col md:flex-row gap-6 items-start"
      >
        <!-- Colonne gauche : leaderboard -->
        <div class="w-full md:w-1/3 glass rounded-3xl shadow-2xl px-6 py-6">
          <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
            <span>üèÜ</span> Les 5 Meilleurs
          </h2>
          <p class="text-xs text-slate-400 mb-3">
            Classement des √©tudiants bas√© sur le total de points cumul√©s.
          </p>
          <div id="leaderboard" class="space-y-3 text-sm">
            <p class="text-slate-400">Chargement du classement‚Ä¶</p>
          </div>
          <button
            onclick="window.location.href='decouverte.html'"
            class="mt-4 w-full rounded-full px-6 py-3 bg-gradient-to-r from-neonBlue to-neonPink text-sm font-semibold text-white shadow-lg hover:opacity-90 transition"
          >
            Voir les d√©couvertes
          </button>
        </div>

        <!-- Colonne centre : Challenge des codes -->
        <div class="w-full md:w-1/3 flex justify-center">
          <div
            id="card"
            class="relative w-full glass rounded-3xl shadow-2xl px-6 py-7 md:px-8 md:py-8 transition-transform"
          >
            <!-- Croix dans le panel -->
            <a
              href="index.html"
              class="absolute top-4 right-4 w-7 h-7 flex items-center justify-center rounded-full bg-slate-900/70 border border-slate-700 text-slate-300 text-sm hover:text-white hover:border-slate-500 transition"
              aria-label="Retour au site principal"
            >
              √ó
            </a>

            <h1
              class="text-2xl md:text-3xl font-bold mb-4 text-center leading-normal bg-gradient-to-r from-neonBlue to-neonPink bg-clip-text text-transparent"
            >
              Challenge des codes
            </h1>
            <p class="text-center text-slate-300 mb-6 text-sm">
              Entrez votre code pour valider un Easter Egg.
            </p>

            <!-- message erreur / panneau stop -->
            <div
              id="error-box"
              class="hidden mb-4 rounded-2xl bg-red-900/70 border border-red-500/80 px-4 py-3 text-xs flex items-center gap-3 text-red-100"
            >
              <span class="text-2xl">üõë</span>
              <span id="error-text">Code invalide.</span>
            </div>

            <!-- Formulaire -->
            <form id="code-form" class="mb-4 space-y-4">
              <div>
                <label
                  for="code"
                  class="block mb-2 text-xs text-slate-300 uppercase tracking-wide"
                >
                  Entrer un code
                </label>
                <div class="flex flex-col gap-3">
                  <input
                    id="code"
                    type="text"
                    autocomplete="off"
                    placeholder="Entrez votre code..."
                    class="w-full rounded-full bg-slate-900/70 border border-slate-700 px-5 py-3 text-sm outline-none focus:ring-2 focus:ring-neonBlue focus:border-transparent"
                  />
                  <button
                    type="submit"
                    class="w-full rounded-full px-6 py-3 bg-gradient-to-r from-neonBlue to-neonPink text-sm font-semibold text-white shadow-lg hover:opacity-90 transition"
                  >
                    Valider
                  </button>
                </div>
              </div>

              <!-- Champ matricule (affich√© apr√®s code valide) -->
              <div id="matricule-field" class="grid grid-cols-1 gap-3 hidden">
                <input
                  id="student-matricule"
                  type="text"
                  placeholder="Matricule (format HExxxxxx)"
                  class="rounded-full bg-slate-900/70 border border-slate-700 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-neonBlue focus:border-transparent"
                />
              </div>

              <!-- Champs suppl√©mentaires (pr√©nom, nom, classe) si matricule inconnu -->
              <div id="additional-fields" class="grid grid-cols-1 gap-3 hidden">
                <input
                  id="student-prenom"
                  type="text"
                  placeholder="Pr√©nom"
                  class="rounded-full bg-slate-900/70 border border-slate-700 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-neonBlue focus:border-transparent"
                />
                <input
                  id="student-nom"
                  type="text"
                  placeholder="Nom"
                  class="rounded-full bg-slate-900/70 border border-slate-700 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-neonBlue focus:border-transparent"
                />
                <select
                  id="student-class"
                  class="rounded-full bg-slate-900/70 border border-slate-700 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-neonBlue focus:border-transparent"
                >
                  <option value="">S√©lectionnez votre classe</option>
                  <option value="1TI">1TI</option>
                  <option value="2TI">2TI</option>
                  <option value="3TI">3TI</option>
                </select>
              </div>
            </form>
          </div>
        </div>

        <!-- Colonne droite : indices -->
        <div class="w-full md:w-1/3 glass rounded-3xl shadow-2xl px-6 py-6">
          <h2 class="text-lg font-semibold mb-3 flex items-center gap-2">
            <span>üß©</span> Indices des codes restants
          </h2>
          <p class="text-xs text-slate-400 mb-3">
            Indices pour les Easter Eggs qui peuvent encore √™tre d√©couverts.
          </p>
          <div id="hints-list" class="space-y-3 text-sm">
            <p class="text-slate-400">Chargement des indices‚Ä¶</p>
          </div>
        </div>
      </div>
    </main>

    <script type="module" src="scripts/codes.js"></script>
  </body>
</html>
